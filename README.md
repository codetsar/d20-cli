# üé≤ d20-cli

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –±—Ä–æ—Å–∫–æ–≤ 20-–≥—Ä–∞–Ω–Ω–æ–≥–æ –∫—É–±–∏–∫–∞ (d20) –¥–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π. –ù–∞–ø–∏—Å–∞–Ω –Ω–∞ Bash —Å –ø–æ–ª–Ω—ã–º —Ç–µ—Å—Ç–æ–≤—ã–º –ø–æ–∫—Ä—ã—Ç–∏–µ–º.

## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

```terminal
$ d20
CRIT! üéØ
$ d20
üé≤ 12
$ d20
FAIL! üíÄ
```

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üåÄ –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –±—Ä–æ—Å–∫–∞
- üéØ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–æ–≤ (20) –∏ —Ñ–µ–π–ª–æ–≤ (1)
- ‚úÖ 100% —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ (BATS + —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç—ã)
- üìä –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–∏ –º–∞—Å—Å–æ–≤—ã—Ö –±—Ä–æ—Å–∫–∞—Ö
- üîß –ü—Ä–æ—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (Makefile)
- üêß –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ–º Unix-—Å–∏—Å—Ç–µ–º

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/codetsar/d20-cli.git
cd d20-cli
make install  # –¢—Ä–µ–±—É–µ—Ç sudo
```

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–µ–∑ –ø—Ä–∞–≤ root:
```bash
make install PREFIX=~/.local
```

## üìù –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
–û–¥–∏–Ω–æ—á–Ω—ã–π –±—Ä–æ—Å–æ–∫:
```bash
d20
```

–ú–∞—Å—Å–æ–≤—ã–π –±—Ä–æ—Å–æ–∫ (20 —Ä–∞–∑):
```bash
for i in {1..20}; do 20; sleep 0.5; done
```

–¢–µ—Å—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (1000 –±—Ä–æ—Å–∫–æ–≤):
```bash
./test/stress_test.sh
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤:

```bash
make test
```
–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã:

```bash
bats tests/test_dice.bats  # –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã
./tests/integration_test.sh  # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
./tests/stress_test.sh  # 1000 –±—Ä–æ—Å–∫–æ–≤
```
## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
–ê–ª–≥–æ—Ä–∏—Ç–º: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ /dev/urandom (–∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ)

–ê–Ω–∏–º–∞—Ü–∏—è: 5 –∫–∞–¥—Ä–æ–≤ —Å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º 1 –∏ 20

–í—ã–≤–æ–¥: –í—Å–µ–≥–¥–∞ —Ä–æ–≤–Ω–æ –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –≤—ã–≤–æ–¥–∞

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Bash 4.0+
- GNU coreutils
- BATS (–¥–ª—è —Ç–µ—Å—Ç–æ–≤)
